<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vue 360° de la Pomme avec IA</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    <div id="viewer">
        {% for image in images %}
            <img src="{{ url_for('static', filename='data/images/' + image) }}" alt="Pomme" class="viewer-image">
        {% endfor %}
    </div>
    <p>Faites glisser la souris ou votre doigt sur l'image pour faire pivoter la pomme.</p>
    <div id="analysis">
        <h2>Analyse de la pomme</h2>
        <p>Couleur : <span id="color">{{ analysis.color }}</span></p>
        <p>Forme : <span id="shape">{{ analysis.shape }}</span></p>
        <p>Taille estimée : <span id="size">{{ analysis.estimated_size }}</span></p>
        <h3>Prédictions principales :</h3>
        <ul id="predictions">
        {% for pred in analysis.top_predictions %}
            <li>{{ pred.class }} ({{ (pred.probability * 100) | round(2) }}%)</li>
        {% endfor %}
        </ul>
    </div>
    <script src="{{ url_for('static', filename='js/viewer.js') }}"></script>
</body>
</html>
